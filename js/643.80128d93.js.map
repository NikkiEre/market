{"version":3,"file":"js/643.80128d93.js","mappings":"mIAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,UAAU,CAACE,YAAY,YAAY,CAACF,EAAG,eAAiBJ,EAAIO,QAAWP,EAAIQ,QAAgDR,EAAIS,KAA3CL,EAAG,SAAS,CAACM,MAAM,CAAC,KAAOV,EAAIW,QAAmBX,EAAIO,QAAWP,EAAIQ,QAAwIR,EAAIO,SAAWP,EAAIQ,QAASJ,EAAG,UAAU,CAACQ,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASC,MAAOf,EAAU,OAAEgB,WAAW,aAAchB,EAAIQ,UAAYR,EAAIO,OAAQH,EAAG,gBAAgBJ,EAAIS,KAAlTL,EAAG,MAAM,CAACE,YAAY,yBAAyB,CAACF,EAAG,kBAAkB,CAACM,MAAM,CAAC,KAAOV,EAAIW,KAAK,UAAYX,EAAIiB,cAAc,GAA8LjB,EAAIQ,SAAYR,EAAIO,OAAmKP,EAAIS,KAA/JL,EAAG,MAAM,CAACE,YAAY,qBAAqB,CAACF,EAAG,UAAU,CAACM,MAAM,CAAC,UAAYV,EAAIkB,aAAa,UAAYlB,EAAIiB,UAAU,WAAajB,EAAImB,eAAe,GAAYf,EAAG,cAAc,IAC3wBgB,EAAkB,G,kHC6CtB,SACEC,WAAY,CAAdC,UAAAA,EAAAA,EAAAC,YAAAA,EAAAA,EAAAC,OAAAA,EAAAA,EAAAC,gBAAAA,EAAAA,EAAAC,QAAAA,EAAAA,EAAAC,QAAAA,EAAAA,EAAAC,aAAAA,EAAAA,GACE,KAAFf,WACE,KAAFgB,WACI,MAAJ,CACM,KAANlB,GACM,aAANO,GACM,QAANX,EACM,SAANC,IAGE,QAAFsB,WACI,KAAJ,uBAEE,QAAFC,CACI,oBAAJC,WAAM,IAAN,OACM,KAAN,UACM,IAAN,gDACQ,EAAR,kBAEA,uEACQ,EAAR,UAEM,QAANC,IAAAA,CAAAA,EAAAA,IAAAA,MAAAA,SAAAA,GACQ,EAAR,aADA,UAGA,YACQ,EAAR,UACQ,EAAR,eAGI,UAAJhB,SAAAA,GACMiB,EAAAA,EAAAA,SAAAA,CAAE,KAARC,mBAAQ,aAARC,CAAU,KAAVzB,EAAU,WAAV0B,oBAEI,WAAJlB,SAAAA,GACM,KAAN,yBCjFoQ,I,cCQhQmB,GAAY,OACd,EACAvC,EACAqB,GACA,EACA,KACA,KACA,MAIF,QAAekB,EAAiB","sources":["webpack://market/./src/views/ItemPage.vue?f639","webpack://market/src/views/ItemPage.vue","webpack://market/./src/views/ItemPage.vue?661f","webpack://market/./src/views/ItemPage.vue"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"itempage\"},[_c('Breadcrumbs'),(!_vm.isLoad && !_vm.isError)?_c('Slider',{attrs:{\"item\":_vm.item}}):_vm._e(),(!_vm.isLoad && !_vm.isError)?_c('div',{staticClass:\"itempage__description\"},[_c('DescriptionItem',{attrs:{\"item\":_vm.item,\"addToCart\":_vm.addToCart}})],1):(_vm.isLoad && !_vm.isError)?_c('Spinner',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isLoad),expression:\"isLoad\"}]}):(_vm.isError && !_vm.isLoad)?_c('ErrorCatalog'):_vm._e(),(!_vm.isError && !_vm.isLoad)?_c('div',{staticClass:\"itempage__catalog\"},[_c('Catalog',{attrs:{\"listItems\":_vm.catalogItems,\"addToCart\":_vm.addToCart,\"moveToItem\":_vm.moveToItem}})],1):_vm._e(),_c('Subscribe')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <section class=\"itempage\">\n        <Breadcrumbs />\n        <Slider \n            :item=\"item\" \n            v-if=\"!isLoad && !isError\"\n        />\n        <div class=\"itempage__description\"\n            v-if=\"!isLoad && !isError\"\n        >\n            <DescriptionItem \n                :item=\"item\"\n                :addToCart=\"addToCart\"\n            />\n        </div>\n        <Spinner \n            v-else-if=\"isLoad && !isError\"\n            v-show=\"isLoad\"\n        />\n        <ErrorCatalog \n            v-else-if=\"isError && !isLoad\"\n        />\n        <div class=\"itempage__catalog\"\n            v-if=\"!isError && !isLoad\"\n        >\n            <Catalog \n                :listItems=\"catalogItems\"\n                :addToCart=\"addToCart\"\n                :moveToItem=\"moveToItem\"\n            />\n        </div>\n        <Subscribe />\n    </section>\n</template>\n\n<script>\nimport Subscribe from '@/components/Subscribe/Subscribe.vue'\nimport Breadcrumbs from '@/components/Breadcrumbs/Breadcrumbs.vue'\nimport Slider from '@/components/Slider/Slider.vue'\nimport DescriptionItem from '@/components/DescriptionItem/DescriptionItem.vue'\nimport Catalog from '@/components/Catalog/Catalog.vue'\nimport { fetchRequest } from '@/api/fetch'\nimport store from '@/store'\nimport Spinner from '@/components/Spinner/Spinner.vue'\nimport ErrorCatalog from '@/components/ErrorCatalog/ErrorCatalog.vue'\n\nexport default {\n  components: { Subscribe, Breadcrumbs, Slider, DescriptionItem, Catalog, Spinner, ErrorCatalog },\n    name: \"ItemPage\",\n    data: function() {\n        return ({\n            item: {},\n            catalogItems: [],\n            isLoad: false,\n            isError: false,\n        })\n    },\n    created: function() {\n        this.fetchItemAndCatalog();\n    },\n    methods: {\n        fetchItemAndCatalog: function() {\n            this.isLoad = true;\n            const fetchCatalog = fetchRequest('products?limit=3').then(res => {\n                this.catalogItems = res; \n            });\n            const fetchItem = fetchRequest(`products/${this.$route.params.id}`).then(res => {\n                this.item = res; \n            });\n            Promise.all([fetchItem, fetchCatalog]).then(res => {\n                this.isLoad = false;\n            })\n            .catch(err => {\n                this.isLoad = false;\n                this.isError = true;\n            });\n        },\n        addToCart: function(item) {\n            store.dispatch({type: \"actionChangeCart\", dataDispatch: {item: item, typeAction: \"addItemToCart\"}});\n        },\n        moveToItem: function(item) {\n            this.$router.push(\"/item\")\n        }\n    }\n}\n</script>\n\n<style lang=\"less\">\n    @import \"../style/variables.less\";\n\n    .itempage {\n        &__catalog {\n           padding-top: 64px;\n           padding-bottom: 128px;\n\n            @media (min-width: @min-tablet-width) and (max-width: @max-tablet-width) {\n                & .catalog-item:last-of-type {\n                    display: none;\n                }\n            }\n        }\n\n        &__description {\n            margin: 0 calc(50% - 525px);\n            top: -64px;\n            position: relative;\n\n            @media (min-width: @min-mobile-width) and (max-width: @max-tablet-width) {\n                top: 0;\n                padding: 0 18px;\n                margin: 0;\n            }\n\n            @media (min-width: @min-mobile-width) and (max-width: @max-mobile-width) {\n                padding: 0 9px;\n            }\n        }\n    }\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ItemPage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ItemPage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ItemPage.vue?vue&type=template&id=ce799552&\"\nimport script from \"./ItemPage.vue?vue&type=script&lang=js&\"\nexport * from \"./ItemPage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ItemPage.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","isLoad","isError","_e","attrs","item","directives","name","rawName","value","expression","addToCart","catalogItems","moveToItem","staticRenderFns","components","Subscribe","Breadcrumbs","Slider","DescriptionItem","Catalog","Spinner","ErrorCatalog","data","created","methods","fetchItemAndCatalog","Promise","store","type","dataDispatch","typeAction","component"],"sourceRoot":""}