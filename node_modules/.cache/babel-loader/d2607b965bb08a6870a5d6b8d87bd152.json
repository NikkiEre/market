{"ast":null,"code":"import _objectSpread from \"/home/nikolay/\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B/Learn/vuejs/market/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _asyncToGenerator from \"/home/nikolay/\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B/Learn/vuejs/market/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"regenerator-runtime/runtime.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport Billboard from '@/components/Billboard/Billboard.vue';\nimport Category from '@/components/Category/Category.vue';\nimport Catalog from '@/components/Catalog/Catalog.vue';\nimport Benefits from '@/components/Benifits/Benefits.vue';\nimport Subscribe from '@/components/Subscribe/Subscribe.vue';\nimport { fetchRequest } from '@/api/fetch';\nimport ErrorCatalog from '@/components/ErrorCatalog/ErrorCatalog.vue';\nimport store from '@/store';\nimport Spinner from '@/components/Spinner/Spinner.vue';\nimport Modal from '@/components/Modal/Modal.vue';\nexport default {\n  name: \"StartPage\",\n  components: {\n    Billboard: Billboard,\n    Category: Category,\n    Catalog: Catalog,\n    Benefits: Benefits,\n    Subscribe: Subscribe,\n    ErrorCatalog: ErrorCatalog,\n    Spinner: Spinner,\n    Modal: Modal\n  },\n  data: function data() {\n    return {\n      isLoad: false,\n      isError: false,\n      startpageItems: [],\n      isShowModal: false,\n      scrollY: 0,\n      itemInModal: {}\n    };\n  },\n  computed: {\n    cart: function cart() {\n      return store.getters.GET_CART;\n    }\n  },\n  created: function created() {\n    this.getItems();\n  },\n  methods: {\n    getItems: function () {\n      var _getItems = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n        var _this = this;\n\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                this.isLoad = true;\n                _context.next = 3;\n                return fetchRequest('products?limit=6').then(function (res) {\n                  if (res) {\n                    _this.isLoad = false;\n                    _this.startpageItems = res;\n                  }\n                })[\"catch\"](function (err) {\n                  _this.isLoad = false;\n                  _this.isError = true;\n                });\n\n              case 3:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function getItems() {\n        return _getItems.apply(this, arguments);\n      }\n\n      return getItems;\n    }(),\n    addToCart: function addToCart(item) {\n      store.dispatch({\n        type: \"actionChangeCart\",\n        dataDispatch: {\n          item: item,\n          typeAction: \"addItemToCart\"\n        }\n      });\n      this.showModal();\n    },\n    moveToItem: function moveToItem(id) {\n      this.$router.push(\"/item/\".concat(id));\n    },\n    showModal: function showModal() {\n      var item = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      this.isShowModal = !this.isShowModal;\n      this.itemInModal = _objectSpread({}, item);\n    }\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACAA,mBADA;AAEAC;AACAC,wBADA;AAEAC,sBAFA;AAGAC,oBAHA;AAIAC,sBAJA;AAKAC,wBALA;AAMAC,8BANA;AAOAC,oBAPA;AAQAC;AARA,GAFA;AAYAC;AACA;AACAC,mBADA;AAEAC,oBAFA;AAGAC,wBAHA;AAIAC,wBAJA;AAKAC,gBALA;AAMAC;AANA;AAQA,GArBA;AAsBAC;AACAC,QADA,kBACA;AACA;AACA;AAHA,GAtBA;AA2BAC;AACA;AACA,GA7BA;AA8BAC;AACAC;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA,uBAEAC;AACA;AACA;AACA;AACA;AACA,iBALA,WAKA;AACA;AACA;AACA,iBARA,CAFA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA,OADA;AAaAC;AACAC;AAAAC;AAAAC;AAAAC;AAAAC;AAAA;AAAA;AACA;AACA,KAhBA;AAiBAC;AACA;AACA,KAnBA;AAoBAC;AAAA;AACA;AACA;AACA;AAvBA;AA9BA","names":["name","components","Billboard","Category","Catalog","Benefits","Subscribe","ErrorCatalog","Spinner","Modal","data","isLoad","isError","startpageItems","isShowModal","scrollY","itemInModal","computed","cart","created","methods","getItems","fetchRequest","addToCart","store","type","dataDispatch","item","typeAction","moveToItem","showModal"],"sourceRoot":"src/views","sources":["StartPage.vue"],"sourcesContent":["<template>\n    <div class=\"startpage\">\n        <Billboard />\n        <Category />\n        <Spinner \n            v-show=\"isLoad\"\n        />\n        <ErrorCatalog \n            v-if=\"isError && !isLoad\"\n            :reloadItems=\"getItems\"\n        />\n        <section class=\"startpage__catalog container__page\"\n            v-else-if=\"!isError && !isLoad\"\n        >\n            <h3>Fetured Items</h3>\n            <p>Shop for items based on what we featured in this week</p>\n            <Catalog \n                :listItems=\"startpageItems\"\n                :addToCart=\"addToCart\"\n                :moveToItem=\"moveToItem\"\n                :showModal=\"showModal\"\n            />\n            <div class=\"startpage__block_link\">\n                <router-link to=\"/catalog\" class=\"startpage__link_catalog\">Browse All Product</router-link>\n            </div>\n        </section>\n        <div>\n            <Benefits />\n            <Subscribe />\n            <Modal\n                :isShowModal=\"isShowModal\"\n                :showModal=\"showModal\"\n                :itemInModal=\"itemInModal\"\n                :addToCart=\"addToCart\"\n            />\n        </div>\n    </div>\n</template>\n\n<script>\nimport Billboard from '@/components/Billboard/Billboard.vue'\nimport Category from '@/components/Category/Category.vue'\nimport Catalog from '@/components/Catalog/Catalog.vue'\nimport Benefits from '@/components/Benifits/Benefits.vue'\nimport Subscribe from '@/components/Subscribe/Subscribe.vue'\nimport { fetchRequest } from '@/api/fetch'\nimport ErrorCatalog from '@/components/ErrorCatalog/ErrorCatalog.vue'\nimport store from '@/store'\nimport Spinner from '@/components/Spinner/Spinner.vue'\nimport Modal from '@/components/Modal/Modal.vue'\n\nexport default {\n    name: \"StartPage\",\n    components: {\n        Billboard,\n        Category,\n        Catalog,\n        Benefits,\n        Subscribe,\n        ErrorCatalog,\n        Spinner,\n        Modal\n    },\n    data: function() {\n        return ({\n            isLoad: false,\n            isError: false,\n            startpageItems: [],\n            isShowModal: false,\n            scrollY: 0,\n            itemInModal: {}\n        })\n    },\n    computed: {\n        cart() {\n            return store.getters.GET_CART;\n        },\n    },\n    created: function () {\n        this.getItems();\n    },\n    methods: {\n        getItems: async function() {\n            this.isLoad = true;\n            await fetchRequest('products?limit=6').then(res => {\n                if(res) {\n                    this.isLoad = false;\n                    this.startpageItems = res;\n                }\n            }).catch(err => {\n                this.isLoad = false;\n                this.isError = true;\n            })\n        },\n        addToCart: function(item) {\n            store.dispatch({type: \"actionChangeCart\", dataDispatch: {item: item, typeAction: \"addItemToCart\"}});\n            this.showModal();\n        },\n        moveToItem: function(id) {\n            this.$router.push(`/item/${id}`)\n        },\n        showModal: function(item = {}) {\n            this.isShowModal = !this.isShowModal;\n            this.itemInModal = {...item};\n        }\n    }\n}\n</script>\n\n<style lang=\"less\" scoped>\n    @import \"../style/variables.less\";\n\n    .startpage {\n        display: flex;\n        flex-direction: column;\n        gap: 95px;\n\n        &__catalog {\n\n            & > h3 {\n                margin-bottom: 6px;\n                text-align: center;\n                font-weight: 400;\n                font-size: 30px;\n                line-height: 36px;\n                color: @color-black;\n            }\n\n            & > p {\n                font-weight: 400;\n                font-size: 14px;\n                line-height: 17px;\n                color: @color-gray;\n                text-align: center;\n                margin-bottom: 48px;\n            }\n\n\n        }\n    }\n\n    .startpage__block_link {\n        text-align: center;\n    }\n\n    .startpage__link_catalog {\n        display: inline-block;\n        padding: 15px 40px;\n        margin-top: 48px;\n        font-weight: 400;\n        font-size: 16px;\n        line-height: 19px;\n        color: @color-pink;\n        border: 1px solid @color-pink;\n        transition: all 0.5s;\n        cursor: pointer;\n        text-decoration: none;\n\n        &:hover {\n            color: @color-white;\n            background: @color-pink;\n        }\n    }\n</style>"]},"metadata":{},"sourceType":"module"}